(venv) vvolkovskiy@vvolkovskiy-ThinkPad-E15-Gen-3:~/src/msa-sprint2/tasks/task3$ docker compose up --build
WARN[0000] /home/vvolkovskiy/src/msa-sprint2/tasks/task3/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion
[+] Building 1.1s (28/28) FINISHED
 => [internal] load local bake definitions                                                                                                                                                                                                                                                                                                                                                                                                                            0.0s
 => => reading from stdin 1.63kB                                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => [booking-subgraph internal] load build definition from Dockerfile                                                                                                                                                                                                                                                                                                                                                                                                 0.0s
 => => transferring dockerfile: 148B                                                                                                                                                                                                                                                                                                                                                                                                                                  0.0s
 => [apollo-gateway internal] load build definition from Dockerfile                                                                                                                                                                                                                                                                                                                                                                                                   0.0s
 => => transferring dockerfile: 148B                                                                                                                                                                                                                                                                                                                                                                                                                                  0.0s
 => [hotel-subgraph internal] load build definition from Dockerfile                                                                                                                                                                                                                                                                                                                                                                                                   0.0s
 => => transferring dockerfile: 148B                                                                                                                                                                                                                                                                                                                                                                                                                                  0.0s
 => [apollo-gateway internal] load metadata for docker.io/library/node:18                                                                                                                                                                                                                                                                                                                                                                                             0.9s
 => [apollo-gateway internal] load .dockerignore                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => => transferring context: 2B                                                                                                                                                                                                                                                                                                                                                                                                                                       0.0s
 => [hotel-subgraph internal] load .dockerignore                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => => transferring context: 2B                                                                                                                                                                                                                                                                                                                                                                                                                                       0.0s
 => [booking-subgraph internal] load .dockerignore                                                                                                                                                                                                                                                                                                                                                                                                                    0.0s
 => => transferring context: 2B                                                                                                                                                                                                                                                                                                                                                                                                                                       0.0s
 => [booking-subgraph 1/5] FROM docker.io/library/node:18@sha256:c6ae79e38498325db67193d391e6ec1d224d96c693a8a4d943498556716d3783                                                                                                                                                                                                                                                                                                                                     0.0s
 => [apollo-gateway internal] load build context                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => => transferring context: 91B                                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => [hotel-subgraph internal] load build context                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => => transferring context: 91B                                                                                                                                                                                                                                                                                                                                                                                                                                      0.0s
 => [booking-subgraph internal] load build context                                                                                                                                                                                                                                                                                                                                                                                                                    0.0s
 => => transferring context: 2.33kB                                                                                                                                                                                                                                                                                                                                                                                                                                   0.0s
 => CACHED [booking-subgraph 2/5] WORKDIR /app                                                                                                                                                                                                                                                                                                                                                                                                                        0.0s
 => CACHED [apollo-gateway 3/5] COPY package.json ./                                                                                                                                                                                                                                                                                                                                                                                                                  0.0s
 => CACHED [apollo-gateway 4/5] RUN npm install                                                                                                                                                                                                                                                                                                                                                                                                                       0.0s
 => CACHED [apollo-gateway 5/5] COPY . .                                                                                                                                                                                                                                                                                                                                                                                                                              0.0s
 => [apollo-gateway] exporting to image                                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => => exporting layers                                                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => => writing image sha256:831a793069e969af5d6ae989b223b7d4ecbeab6554dbfe9529a85ac19bd1e975                                                                                                                                                                                                                                                                                                                                                                          0.0s
 => => naming to docker.io/library/task3-apollo-gateway                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => CACHED [hotel-subgraph 3/5] COPY package.json ./                                                                                                                                                                                                                                                                                                                                                                                                                  0.0s
 => CACHED [hotel-subgraph 4/5] RUN npm install                                                                                                                                                                                                                                                                                                                                                                                                                       0.0s
 => CACHED [hotel-subgraph 5/5] COPY . .                                                                                                                                                                                                                                                                                                                                                                                                                              0.0s
 => CACHED [booking-subgraph 3/5] COPY package.json ./                                                                                                                                                                                                                                                                                                                                                                                                                0.0s
 => CACHED [booking-subgraph 4/5] RUN npm install                                                                                                                                                                                                                                                                                                                                                                                                                     0.0s
 => [booking-subgraph 5/5] COPY . .                                                                                                                                                                                                                                                                                                                                                                                                                                   0.0s
 => [hotel-subgraph] exporting to image                                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => => exporting layers                                                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => => writing image sha256:13d5728ea07881cf476966c88965dc3145be55bc1b93c712890baa079d648935                                                                                                                                                                                                                                                                                                                                                                          0.0s
 => => naming to docker.io/library/task3-hotel-subgraph                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => [booking-subgraph] exporting to image                                                                                                                                                                                                                                                                                                                                                                                                                             0.0s
 => => exporting layers                                                                                                                                                                                                                                                                                                                                                                                                                                               0.0s
 => => writing image sha256:b5e80274aef665f3983e2719b43e6d882d029695a94bd1d372dc3a399352b436                                                                                                                                                                                                                                                                                                                                                                          0.0s
 => => naming to docker.io/library/task3-booking-subgraph                                                                                                                                                                                                                                                                                                                                                                                                             0.0s
 => [apollo-gateway] resolving provenance for metadata file                                                                                                                                                                                                                                                                                                                                                                                                           0.0s
 => [hotel-subgraph] resolving provenance for metadata file                                                                                                                                                                                                                                                                                                                                                                                                           0.0s
 => [booking-subgraph] resolving provenance for metadata file                                                                                                                                                                                                                                                                                                                                                                                                         0.0s
[+] Running 7/7
 ‚úî task3-booking-subgraph              Built                                                                                                                                                                                                                                                                                                                                                                                                                          0.0s
 ‚úî task3-hotel-subgraph                Built                                                                                                                                                                                                                                                                                                                                                                                                                          0.0s
 ‚úî task3-apollo-gateway                Built                                                                                                                                                                                                                                                                                                                                                                                                                          0.0s
 ‚úî Network task3_default               Created                                                                                                                                                                                                                                                                                                                                                                                                                        0.1s
 ‚úî Container task3-booking-subgraph-1  Created                                                                                                                                                                                                                                                                                                                                                                                                                        0.0s
 ‚úî Container task3-hotel-subgraph-1    Created                                                                                                                                                                                                                                                                                                                                                                                                                        0.1s
 ‚úî Container task3-apollo-gateway-1    Created                                                                                                                                                                                                                                                                                                                                                                                                                        0.0s
Attaching to apollo-gateway-1, booking-subgraph-1, hotel-subgraph-1
booking-subgraph-1  | Enabling inline tracing for this subgraph. To disable, use ApolloServerPluginInlineTraceDisabled.
booking-subgraph-1  | ‚úÖ Booking subgraph ready at http://localhost:4001/
hotel-subgraph-1    | Enabling inline tracing for this subgraph. To disable, use ApolloServerPluginInlineTraceDisabled.
hotel-subgraph-1    | ‚úÖ Hotel subgraph ready at http://localhost:4002/
booking-subgraph-1  | üì• Incoming request headers: {
booking-subgraph-1  |   'content-type': 'application/json',
booking-subgraph-1  |   accept: '*/*',
booking-subgraph-1  |   'content-length': '69',
booking-subgraph-1  |   'user-agent': 'minipass-fetch/3.0.5 (+https://github.com/isaacs/minipass-fetch)',
booking-subgraph-1  |   'accept-encoding': 'gzip,deflate',
booking-subgraph-1  |   host: 'booking-subgraph:4001',
booking-subgraph-1  |   connection: 'keep-alive'
booking-subgraph-1  | }
booking-subgraph-1  | üë§ Authenticated user: none
apollo-gateway-1    | üöÄ Gateway ready at http://localhost:4000/
booking-subgraph-1  | üì• Incoming request headers: {
booking-subgraph-1  |   'content-type': 'application/json',
booking-subgraph-1  |   authorization: 'Bearer u1',
booking-subgraph-1  |   accept: '*/*',
booking-subgraph-1  |   'content-length': '109',
booking-subgraph-1  |   'user-agent': 'minipass-fetch/3.0.5 (+https://github.com/isaacs/minipass-fetch)',
booking-subgraph-1  |   'accept-encoding': 'gzip,deflate',
booking-subgraph-1  |   host: 'booking-subgraph:4001',
booking-subgraph-1  |   connection: 'keep-alive'
booking-subgraph-1  | }
booking-subgraph-1  | üë§ Authenticated user: u1
booking-subgraph-1  | ‚û°Ô∏è  [bookingsByUser] userId param: u1, auth user: u1
booking-subgraph-1  | ‚úÖ Returning 2 bookings for user u1
booking-subgraph-1  | üì• Incoming request headers: {
booking-subgraph-1  |   'content-type': 'application/json',
booking-subgraph-1  |   authorization: 'Bearer u1',
booking-subgraph-1  |   accept: '*/*',
booking-subgraph-1  |   'content-length': '109',
booking-subgraph-1  |   'user-agent': 'minipass-fetch/3.0.5 (+https://github.com/isaacs/minipass-fetch)',
booking-subgraph-1  |   'accept-encoding': 'gzip,deflate',
booking-subgraph-1  |   host: 'booking-subgraph:4001',
booking-subgraph-1  |   connection: 'keep-alive'
booking-subgraph-1  | }
booking-subgraph-1  | üë§ Authenticated user: u1
booking-subgraph-1  | ‚û°Ô∏è  [bookingsByUser] userId param: u2, auth user: u1
booking-subgraph-1  | ‚ùå Access denied: you can only view your own bookings

